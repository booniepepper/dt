<!DOCTYPE html>
<html>
  <head>
    <title>dt: duck tape for your unix pipes</title>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3/build/web/hack.css">
    <link rel="stylesheet" href="style.css">

    <!-- favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="mstile-310x310.png" />
    <!-- /favicons -->
  </head>
  <body>
    <div id="strip">
      <header><center>
        <h1 id="logo">dt</h1>
        <h2><pre>duct tape for your unix pipes</pre></h2>
      </center></header>

      <main>
        <hr>

<!-- motd -->

        <p><i>
            Hi <a href="https://lobste.rs/s/b8icdy/dt_duck_tape_for_your_unix_pipes">Lobsters</a>
            and friends! dt is very new (1.0 as of July 11th) and I'm still
            fleshing out docs. Follow along, send an issue, or star <a href="https://github.com/booniepepper/dt">the repository</a>
            if you're interested. Thanks! -- J.R.
        </i></p>

<!-- toc -->

        <h2><a id="toc"></a>Table of Contents</h2>
        <ol>
          <li><a href="#intro">What's dt?</a></li>
          <li><a href="#install">Installing</a></li>
          <li><a href="#quick-start">Quick start</a></li>
          <li><a href="#syntax">Basic Syntax</a></li>
          <li><a href="#stdlib">Standard Library</a></li>
          <li><a href="#user-guide">User Guide</a></li>
        </ol>

        <hr>

<!-- intro -->

        <h2 id="intro">What's dt? <a href="#intro">⌾</a></h2>
        <p>
          dt is a utility and programming language. The utility is intended for
          ergonomic in-the-shell execution. The language is straightforward
          (in the most literal sense) with a minimal syntax that allows for
          high-level, higher-order programming.
        </p>
        <p>
          It's meant to supplement (<i>not replace!</i>) other tools like awk,
          sed, xargs, and shell built-ins. Something like the Perl one-liners
          popular yesteryear, but hopefully easier to read and reason through.
        </p>
        <p>
          In particular dt is intended to be generally useful, with zero
          pretense of elegance. The philosophy might be summed up with some
          <a href="https://www.redgreen.com">Red Green</a> quotes:
        </p>
        <ul>
          <li>If it ain't broke, you're not trying.</li>
          <li>...the handyman's secret weapon, duct tape.</li>
          <li>This is only temporary, unless it works.</li>
          <li>Spare the duct tape, spoil the job.</li>
        </ul>
        <p>
          dt is released as open source software, usable under the (permissive)
          terms of <a href="https://opensource.org/licenses/BSD-3-Clause">
          the BSD 3-Clause license</a>.
        </p>

        <h4>Excuse me, is it "duct" or "duck" tape?</h4>
        <p>
          I mean sure, "duct tape" and "duck tape" are both fine. "Duct tape"
          is the more common name today. The older name is "duck tape" after
          the duck cloth under the adhesive.
        </p>
        <p class="lighter"><i>
          As an aside: If you care about such things, make sure to read up on
          how today's common version became popular. A 51-year-old woman named
          <a href="https://en.wikipedia.org/wiki/Vesta_Stoudt">Vesta Stoudt</a>,
          mother of 8, mailed her idea for a better ammunition box seal to the
          president (who approved production) after her bosses didn't do
          anything with the suggestion.
        </i></p>
        <p>Anyway, the goal is to be handy.</p>

        <hr>

<!-- install -->

        <h2 id="install">Installing <a href="#install">⌾</a></h2>
        <p>
          Download a binary for your system from the project's
          <a href="https://github.com/booniepepper/dt/releases">
            releases page
          </a>. An installation script is coming soon.
        </p>

        <p>You can confirm that it worked with something like this:</p>

        <pre>
        echo it worked yay! | dt ... upcase words pls
        </pre>

        <p>It should print an enthusiastic three lines saying it worked. (Yay!)</p>

        <hr>

<!-- quick-start -->

        <h2 id="quick-start">Quick start <a href="#quick-start">⌾</a></h2>

        <p>
          Use <span class="lighter">status</span> to see the state of dt.
          Here we see piped standard input is a list of strings.
        </p>
        <pre>
        $ echo -e "one\ntwo\nthree!" | dt status
        [ [ "one" "two" "three!" ] ]
        </pre>

        <p>
          Print lines to stdout with <span class="lighter">pls</span> or
          <span class="lighter">printlns</span>.
        </p>
        <pre>
        $ echo -e "one\ntwo\nthree!" | dt pls
        one
        two
        three!
        </pre>
        <p>
          (See also: <span class='lighter'>p</span>,
          <span class=lighter>print</span>, <span class='lighter'>pl</span>,
          <span class=lighter>println</span>)
        </p>

        <p>
          Explore definitions with <span class="lighter">defs</span> and
          <span class='lighter'>usage</span>.
        </p>
        <pre style="overflow-x: scroll;">
        $ dt defs pls | head -n 3
        *
        +
        -

        $ dt   \\pls usage pls   quit
        ( [&lt;a&gt;] -- ) Print the values of the most recent quote, each followed by a newline, to standard output.
        </pre>

        <p>
          In dt, everything is evaluated left-to-right. This means we don't
          write "3 + 4" because the "+" wouldn't have enough information to add
          yet. Instead we write <span class="lighter">3 4 +</span>.
        </p>
        <pre>
        $ dt 3 4 + pl   quit
        7
        </pre>

        <p>
          All commands are evaluated left-to-right, including <span class="lighter">def</span>
          which is a command that defines more commands. In dt, a command
          is a binding to a value or a "quote" of values and commands. In other
          words, a command is what other languages call functions, variables,
          procedures, subroutines, bindings, etc. Some commands are built-in,
          others are defined in dt source code. Anyway let's
          <span class="lighter">def</span> some stuff to use it. (I'm going to
          feed the code as a single string to avoid escapes, and assume a
          shell that can interpret multiline strings.)
        </p>
        <pre>
        $ dt '3 \three def
              4 \four def
              [+ pl] \add-and-print def
              three four add-and-print
              quit'
        7
        </pre>
        <p>
          Above you can see we bound <span class="lighter">3</span> to a new
          command <span class="lighter">three</span> and did similar for
          <span class="lighter">four</span>. These are like variables, but
          can also be thought of as a command that produces a single value.
        </p>
        <p>
          Above you can also see we bound <span class="lighter">+</span> and
          <span class="lighter">pl</span> in sequence to a new command
          <span class="lighter">add-and-print</span>. Calling this performed
          its two commands.
        </p>
        <p>
          Sometimes you just want to bind as values that would not execute the
          code immediately (For example: to bind a quote as a list). for this
          we can use <span class="lighter">:</span> to bind values.
        </p>
        <pre>
        $ dt  3 4 [+ pl]   [three four add-and-print]: \
              three four add-and-print \
              status \
              quit
        [ 3 4 [ + pl ] ]
        </pre>
        <p>
          This bound three values to three identifiers. It didn't execute the
          last quotation though, it simply provided it again. Let's finish up
          by executing with <span class="lighter">do</span>.
        </p>
        <pre>
        $ dt  3 4 [+ pl]   [three four add-and-print]: \
              three four add-and-print \
              do \
              quit
        7
        </pre>
        <hr>

<!-- syntax -->

        <h2 id="syntax">Basic Syntax <a href="#syntax">⌾</a></h2>
        <p>
          The <span class="lighter">[</span> and <span class="lighter">]</span>
          characters begin and end quotations. Quotations are sequences of zero
          or more values, each of any kind. Commands in a quotation are not
          immediately executed.
        </p>
        <p>
          The <span class="lighter">"</span> character begins and ends a string
          value.
        </p>
        <p>
          <span class="lighter">true</span> and <span class="lighter">false</span>
          read as boolean values.
        </p>
        <p>
          Numbers like <span class="lighter">1</span> and
          <span class="lighter">-2</span> read as 64-bit integers.
        </p>
        <p>
          Numbers like <span class="lighter">-4.5</span>, and
          <span class="lighter">6.7e8</span> read as 64-bit floating point numbers.
        </p>
        <p>Everything else is read as a command.</p>

        <hr>

<!-- stdlib -->

        <h2 id="stdlib">Standard Library <a href="#stdlib">⌾</a></h2>
        <p>Current</p>
        <ul>
          <li><a href="stdlib.html">1.1.1</a></li>
        </ul>
        <p>Past</p>
        <ul>
          <li><a href="archive/stdlib-1.1.1.html">1.1.1</a></li>
          <li><a href="archive/stdlib-1.1.0.html">1.1.0</a></li>
          <li><a href="archive/stdlib-1.0.0.html">1.0.0</a></li>
          <li><a href="archive/stdlib-0.11.2.html">0.11.2</a></li>
          <li><a href="archive/stdlib-0.11.1.html">0.11.1</a></li>
          <li><a href="archive/stdlib-0.11.0.html">0.11.0</a></li>
          <li><a href="archive/stdlib-0.10.0.html">0.10.0</a></li>
          <li><a href="archive/stdlib-0.9.0.html">0.9.0</a></li>
          <li><a href="archive/stdlib-0.8.0.html">0.8.0</a></li>
          <li><a href="archive/stdlib-0.7.0.html">0.7.0</a></li>
          <li><a href="archive/stdlib-0.6.0.html">0.6.0</a></li>
          <li><a href="archive/stdlib-0.5.2.html">0.5.3</a></li>
          <li><a href="archive/stdlib-0.5.2.html">0.5.2</a></li>
          <li><a href="archive/stdlib-0.5.1.html">0.5.1</a></li>
          <li><a href="archive/stdlib-0.5.0.html">0.5.0</a></li>
        </ul>

        <hr>

<!-- stdlib -->

        <h2 id="user-guide">User Guide <a href="#user-guide">⌾</a></h2>
        <p><a href="/user-guide/">Show me the docs!</a></p>

        <hr>
      </main>

<!-- footer -->

      <footer class="lighter"><center>
        <p><a href="https://github.com/booniepepper/dt">Project source</a></p>
        <p><a href="https://github.com/booniepepper/dt/tree/docs/gh-pages">Site source</a></p>
        <p>
          Images:
          <a href="https://pic-noodle.blogspot.com/2021/01/piece-of-duct-tape-png-vector-scotch.html">
            Duct Tape</a>,
          <a href="https://www.goodfreephotos.com/united-states/wisconsin/new-glarus/dark-brewing-room-with-pipes.jpg.php">
            Pipes</a>
        </p>
        <hr>
        <p>Remember, I'm pullin' for ya,<br>we're all in this together.</p>
        <p>2022 <a href="https://so.dang.cool">Justin Hill</a></p>
      </center></footer>
    </div>
  </body>
</html>

